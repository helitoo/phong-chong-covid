<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TTƒêTQG</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <!-- Style -->
    <link rel="stylesheet" href="style.css" />
    <!-- Main script -->
    <script type="module" src="./mainScript.js"></script>
    <script>
      // C·∫•u h√¨nh Tailwind cho m√†u s·∫Øc ch·ªß ƒë·∫°o
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style></style>
  </head>
  <body class="bg-gray-100 min-h-screen font-sans">
    <!-- Toast -->
    <div
      id="toast-container"
      class="fixed top-4 left-1/2 -translate-x-1/2 z-[9999] space-y-2"
    ></div>

    <!-- Shortcuts  -->
    <div class="fixed top-20 right-2 z-50 flex flex-col space-y-2">
      <button
        class="bg-white/50 backdrop-blur-md p-2 border rounded-full shadow text-gray-600"
      >
        <a href="#mua-vaccine-header">üíâ</a>
      </button>
      <button
        class="bg-white/50 backdrop-blur-md p-2 border rounded-full shadow text-gray-600"
      >
        <a href="#dau-tu-header">üí∞</a>
      </button>
      <button
        class="bg-white/50 backdrop-blur-md p-2 border rounded-full shadow text-gray-600"
      >
        <a href="#phan-phoi-header">üó∫Ô∏è</a>
      </button>
      <button
        class="bg-white/50 backdrop-blur-md p-2 border rounded-full shadow text-gray-600"
      >
        <a href="#chart-header">üìà</a>
      </button>
    </div>

    <!--  -->
    <button
      id="toggle-guidebook"
      class="bg-white/50 backdrop-blur-md fixed top-2 right-2 z-50 p-2 bg-white border rounded-lg shadow text-gray-600"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="size-6"
      >
        <path
          d="M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"
        />
      </svg>
    </button>

    <div
      id="guidebook-panel"
      class="hidden fixed top-1/2 left-1/2 w-2/3 max-w-[90%] sm:w-2/3 w-full -translate-x-1/2 -translate-y-1/2 bg-white border border-gray-300 rounded-2xl shadow-2xl p-6 z-50 text-gray-800 transition-transform duration-300"
    >
      <button
        id="close-guidebook"
        class="absolute top-3 right-4 text-gray-600 hover:text-gray-900 text-xl font-bold"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="size-6"
        >
          <path
            fill-rule="evenodd"
            d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z"
            clip-rule="evenodd"
          />
        </svg>
      </button>

      <h2 class="text-xl font-semibold mb-4">üìñ H∆∞·ªõng d·∫´n ch∆°i</h2>
      <div class="text-base leading-relaxed">
        <p class="my-2">
          - M·ª•c ti√™u:
          <strong>
            Thu th·∫≠p, qu·∫£n l√Ω, ph√¢n ph·ªëi vaccine v√† ƒë·∫ßu t∆∞ hi·ªáu qu·∫£ ƒë·ªÉ ngƒÉn ch·∫∑n
            d·ªãch b·ªánh.
          </strong>
        </p>
        <p class="my-2">
          - ·ªû m·ªói l∆∞·ª£t, b·∫°n c√≥ th·ªÉ mua vaccine, ph√¢n ph·ªëi vaccine v√† ƒë·∫ßu t∆∞ theo
          √Ω mu·ªën c·ªßa m√¨nh.
        </p>
        <p class="my-2">
          - ·ªû m·ªôt l∆∞·ª£ng th·ªùi gian ƒë∆∞·ª£c t√≠nh to√°n, d·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t m·ªõi.
          Nh·ªõ ƒë·ªÉ √Ω th√¥ng b√°o nh√©!
        </p>
        <p class="my-2">
          - Tip: Hover chu·ªôt l√™n c√°c ch·ªâ s·ªë ƒë·ªÉ xem c√°c m·∫πo li√™n quan ƒë·∫øn ch·ªâ s·ªë
          ƒë√≥.
        </p>
      </div>
    </div>

    <!-- VERTICAL SIDEBAR -->
    <!--  -->
    <button
      id="toggle-sidebar"
      class="bg-white/50 backdrop-blur-md fixed top-2 left-2 z-50 p-2 bg-white border rounded-lg shadow-md sm:hidden text-gray-600"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="size-6"
      >
        <path
          fill-rule="evenodd"
          d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
          clip-rule="evenodd"
        />
      </svg>
    </button>

    <aside
      id="critical-stats-sidebar"
      class="bg-white/50 backdrop-blur-md fixed top-0 left-0 w-32 h-full text-gray-800 z-40 pt-[60px] md:pt-0 border-r border-gray-200 transform -translate-x-full sm:translate-x-0 transition-transform duration-300 overflow-y-auto"
    >
      <div class="p-2 space-y-2">
        <!--  -->
        <div class="stat-group bg-stone-50 border-stone-500">
          <span class="block text-xs text-gray-500">Th·ªùi gian</span>
          <span class="text-stone-500">
            <span id="time-replacement" class="font-semibold md:text-xl"></span>
            ph√∫t</span
          >
        </div>

        <!--  -->
        <div class="stat-group bg-teal-50 border-emerald-500">
          <span class="block text-xs text-emerald-500">Ng√¢n S√°ch</span>
          <span class="text-emerald-500"
            ><span
              id="cash-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ƒë</span
          >
        </div>

        <!--  -->
        <div class="stat-group bg-sky-50 border-sky-500">
          <span class="block text-xs text-sky-500">D·ª± ki·∫øn t·ªïng chi</span>
          <span class="text-sky-500"
            ><span
              id="expectedCash-replacement"
              class="font-semibold md:text-xl"
              >0</span
            >
            ƒë</span
          >
        </div>

        <!--  -->
        <div class="stat-group bg-cyan-50 border-cyan-600">
          <span class="block text-xs text-cyan-500">Vaccine hi·ªán c√≥</span>
          <span class="text-cyan-600"
            ><span
              id="numLocalVaccine-replacement"
              class="font-semibold md:text-xl"
            ></span>
            li·ªÅu</span
          >
        </div>

        <!--  -->
        <div
          class="stat-group bg-amber-50 border-amber-500"
          title="Quy·∫øt ƒë·ªãnh nhi·ªÅu ƒë·∫øn s·ª± th√†nh c√¥ng c·ªßa b·∫°n"
        >
          <span class="block text-xs text-amber-500">Uy t√≠n</span>
          <span class="text-amber-500"
            ><span
              id="credit-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ƒëi·ªÉm</span
          >
        </div>

        <!--  -->
        <div
          class="stat-group bg-purple-50 border-purple-600"
          title="ƒêi·ªÉm khoa h·ªçc c√†ng cao th√¨ kh·∫£ nƒÉng s√°ng ch·∫ø vaccine hi·ªáu qu·∫£ c√†ng l·ªõn"
        >
          <span class="block text-xs text-purple-500">Khoa h·ªçc</span>
          <span class="text-purple-600"
            ><span
              id="science-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ƒëi·ªÉm</span
          >
        </div>

        <!--  -->
        <div
          class="stat-group bg-yellow-50 border-yellow-600"
          title="ƒêi·ªÉm x√£ h·ªôi ·∫£nh h∆∞·ªüng nhi·ªÅu ƒë·∫øn uy t√≠n"
        >
          <span class="block text-xs text-yellow-500">X√£ h·ªôi</span>
          <span class="text-yellow-600"
            ><span
              id="social-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ƒëi·ªÉm</span
          >
        </div>

        <!--  -->
        <div class="stat-group bg-sky-50 border-sky-500">
          <span class="block text-xs text-sky-500">S·ªë d√¢n kh·ªèe m·∫°nh</span>
          <span class="text-sky-500"
            ><span
              id="numHealth-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ng</span
          >
        </div>

        <!--  -->
        <div class="stat-group bg-red-50 border-red-500">
          <span class="block text-xs text-red-500">Ca Nhi·ªÖm</span>
          <span class="text-red-500">
            <span
              id="numCase-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ng</span
          >
        </div>

        <!--  -->
        <div class="stat-group bg-slate-50 border-slate-500">
          <span class="block text-xs text-slate-500">T·ª≠ vong</span>
          <span class="text-slate-500"
            ><span
              id="numDeath-replacement"
              class="font-semibold md:text-xl"
            ></span>
            ng</span
          >
        </div>

        <!--  -->
      </div>
    </aside>

    <div
      class="ml-0 sm:ml-32 p-4 w-full sm:w-[calc(100%-8rem)] min-h-[calc(100vh-60px)] transition-all duration-300"
    >
      <h1 class="text-3xl font-bold text-blue-700 my-1 text-center">
        TRUNG T√ÇM ƒê·∫¶U T∆Ø QU·ªêC GIA
      </h1>

      <div class="flex flex-col min-h-screen overflow-hidden">
        <!-- H√ÄNG 1: MUA + ƒê·∫¶U T∆Ø -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 flex-none">
          <!-- MUA VACCINE -->
          <div
            class="bg-gray-50 border border-gray-200 rounded-lg shadow p-4 flex flex-col justify-between"
          >
            <div>
              <div class="flex items-center border-b border-blue-300 pb-2 mb-3">
                <h3
                  class="text-xl font-bold text-blue-800"
                  id="mua-vaccine-header"
                >
                  Mua vaccine
                </h3>
                <span class="text-3xl ml-auto">üíâ</span>
              </div>
              <label class="text-sm font-medium text-gray-700 mb-1 block"
                >S·ªë l∆∞·ª£ng mua (li·ªÅu)</label
              >
              <input
                type="number"
                id="purchase-vaccine"
                min="0"
                value="0"
                class="w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 text-base font-semibold"
              />
              <ul class="text-sm text-gray-700 mt-3 space-y-1">
                <li>
                  Gi√°: <strong id="globalVaccinePrice-replacement"></strong>ƒë /
                  üíâ
                </li>
                <li>
                  C√≥ s·∫µn: <strong id="numGlobalVaccine-replacement"></strong>üíâ
                </li>
              </ul>
            </div>
            <button
              id="buy-vaccine-btn"
              class="mt-3 bg-blue-600 text-white font-bold py-2 rounded-lg hover:bg-blue-700 transition transform hover:scale-[1.02]"
            >
              MUA
            </button>
          </div>

          <!-- ƒê·∫¶U T∆Ø -->
          <div
            class="lg:col-span-2 bg-gray-50 border border-gray-200 rounded-lg shadow p-4 flex flex-col justify-between"
          >
            <div>
              <div
                class="flex items-center border-b border-purple-300 pb-2 mb-3"
              >
                <h3
                  class="text-xl font-bold text-purple-800"
                  id="dau-tu-header"
                >
                  ƒê·∫ßu t∆∞
                </h3>
                <span class="text-3xl ml-auto">üí∞</span>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label
                    class="font-bold text-gray-800 text-sm flex items-center mb-1"
                    ><span class="mr-2">üèõÔ∏è</span> X√£ h·ªôi</label
                  >
                  <input
                    type="number"
                    id="social-investment"
                    min="0"
                    value="0"
                    class="w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 text-base font-semibold"
                  />
                </div>
                <div>
                  <label
                    class="font-bold text-gray-800 text-sm flex items-center mb-1"
                    ><span class="mr-2">üßë‚Äçüî¨</span> Khoa h·ªçc</label
                  >
                  <input
                    type="number"
                    id="science-investment"
                    min="0"
                    value="0"
                    class="w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 text-base font-semibold"
                  />
                </div>
              </div>
            </div>
            <button
              id="invest-btn"
              class="mt-3 bg-purple-600 text-white font-bold py-2 rounded-lg hover:bg-purple-700 transition transform hover:scale-[1.02]"
            >
              ƒê·∫¶U T∆Ø
            </button>
          </div>
        </div>

        <!-- H√ÄNG 2: PH√ÇN PH·ªêI -->
        <div
          class="flex-1 grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4 overflow-hidden"
        >
          <!-- FORM PH√ÇN PH·ªêI -->
          <div
            class="bg-gray-50 border border-gray-200 rounded-lg shadow p-4 overflow-y-auto"
          >
            <div class="flex items-center border-b border-red-300 pb-2 mb-3">
              <h3 class="text-xl font-bold text-red-800" id="phan-phoi-header">
                Ph√¢n ph·ªëi vaccine
              </h3>
              <span class="text-2xl ml-auto">üó∫Ô∏è</span>
            </div>

            <label class="text-sm font-medium text-gray-700 mb-1 block"
              >Gi√° b√°n m·ªói vaccine</label
            >
            <input
              type="number"
              min="0"
              value="0"
              class="w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 mb-3 text-base font-semibold"
            />

            <div class="grid grid-cols-2 gap-2 text-sm">
              <!-- 4 t·ªânh -->
              <template id="province-template">
                <div
                  class="p-3 bg-white border border-red-200 rounded-lg shadow-sm"
                >
                  <div class="font-bold text-gray-800 mb-1">
                    <span class="text-red-600 mr-1">üìç</span
                    ><span class="province-name"></span>
                  </div>
                  <p>
                    C·∫ßn:
                    <strong class="text-red-600 province-need"></strong> li·ªÅu
                  </p>
                  <p>
                    D√¢n: <strong class="text-red-600 province-pop"></strong>
                  </p>
                  <label class="block text-xs mt-2">Ph√¢n ph·ªëi:</label>
                  <input
                    type="number"
                    class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                  />
                  <label class="block text-xs mt-2">C√°ch ly:</label>
                  <select
                    class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                  >
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                  </select>
                </div>
              </template>

              <!-- C√°c t·ªânh c·ª• th·ªÉ -->
              <div
                class="p-3 bg-white border border-red-200 rounded-lg shadow-sm"
              >
                <div class="font-bold text-gray-800 mb-1">
                  <span class="text-red-600 mr-1">üìç</span>Th·ªß ƒë√¥
                </div>
                <p>
                  C·∫ßn:
                  <strong
                    id="province1-numCase-replacement"
                    class="text-red-600"
                  ></strong>
                  li·ªÅu
                </p>
                <p>
                  D√¢n:
                  <strong
                    id="province1-population-replacement"
                    class="text-red-600"
                  ></strong>
                </p>
                <label class="block text-xs mt-2">Ph√¢n ph·ªëi:</label>
                <input
                  type="number"
                  id="province1-numLocalVaccine"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                />
                <label class="block text-xs mt-2">C√°ch ly:</label>
                <select
                  id="province1-lockdownLevel"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                >
                  <option>0</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                </select>
              </div>
              <div
                class="p-3 bg-white border border-red-200 rounded-lg shadow-sm"
              >
                <div class="font-bold text-gray-800 mb-1">
                  <span class="text-red-600 mr-1">üìç</span>T·ªânh 1
                </div>
                <p>
                  C·∫ßn:
                  <strong
                    id="province2-numCase-replacement"
                    class="text-red-600"
                  ></strong>
                  li·ªÅu
                </p>
                <p>
                  D√¢n:
                  <strong
                    id="province2-population-replacement"
                    class="text-red-600"
                  ></strong>
                </p>
                <label class="block text-xs mt-2">Ph√¢n ph·ªëi:</label>
                <input
                  type="number"
                  id="province2-numLocalVaccine"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                />
                <label class="block text-xs mt-2">C√°ch ly:</label>
                <select
                  id="province2-lockdownLevel"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                >
                  <option>0</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                </select>
              </div>
              <div
                class="p-3 bg-white border border-red-200 rounded-lg shadow-sm"
              >
                <div class="font-bold text-gray-800 mb-1">
                  <span class="text-red-600 mr-1">üìç</span>T·ªânh 2
                </div>
                <p>
                  C·∫ßn:
                  <strong
                    id="province3-numCase-replacement"
                    class="text-red-600"
                  ></strong>
                  li·ªÅu
                </p>
                <p>
                  D√¢n:
                  <strong
                    id="province3-population-replacement"
                    class="text-red-600"
                  ></strong>
                </p>
                <label class="block text-xs mt-2">Ph√¢n ph·ªëi:</label>
                <input
                  type="number"
                  id="province3-numLocalVaccine"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                />
                <label class="block text-xs mt-2">C√°ch ly:</label>
                <select
                  id="province3-lockdownLevel"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                >
                  <option>0</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                </select>
              </div>
              <div
                class="p-3 bg-white border border-red-200 rounded-lg shadow-sm"
              >
                <div class="font-bold text-gray-800 mb-1">
                  <span class="text-red-600 mr-1">üìç</span>T·ªânh 3
                </div>
                <p>
                  C·∫ßn:
                  <strong
                    id="province4-numCase-replacement"
                    class="text-red-600"
                  ></strong>
                  li·ªÅu
                </p>
                <p>
                  D√¢n:
                  <strong
                    id="province4-population-replacement"
                    class="text-red-600"
                  ></strong>
                </p>
                <label class="block text-xs mt-2">Ph√¢n ph·ªëi:</label>
                <input
                  type="number"
                  id="province4-numLocalVaccine"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                />
                <label class="block text-xs mt-2">C√°ch ly:</label>
                <select
                  id="province4-lockdownLevel"
                  class="w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:ring-1 focus:ring-red-500"
                >
                  <option>0</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                </select>
              </div>
            </div>

            <button
              id="share-vaccine-btn"
              class="mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-lg hover:bg-red-700 transition transform hover:scale-[1.02]"
            >
              PH√ÇN PH·ªêI
            </button>
          </div>

          <!-- BI·ªÇU ƒê·ªí -->
          <div class="grid grid-rows-2 gap-3" id="chart-header">
            <div class="bg-white border border-gray-200 rounded-lg shadow p-2">
              <canvas id="total-chart" style="height: 220px"></canvas>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg shadow p-2">
              <canvas id="local-chart" style="height: 220px"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      //
      const toggleBtn = document.getElementById("toggle-sidebar");
      const sidebar = document.getElementById("critical-stats-sidebar");
      const navbar = document.getElementById("critical-stats-navbar");

      toggleBtn.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        navbar.classList.toggle("-translate-x-full");
      });

      //
      const toggleGuideBook = document.getElementById("toggle-guidebook");
      const guidebookPanel = document.getElementById("guidebook-panel");

      toggleGuideBook.addEventListener("click", () => {
        guidebookPanel.classList.toggle("hidden");
      });

      //
      const closeBtn = document.getElementById("close-guidebook");
      closeBtn.addEventListener("click", () => {
        guidebookPanel.classList.add("hidden");
      });
    </script>
  </body>
</html>
